!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/http"),require("rxjs/Rx"),require("rxjs/Subject"),require("@angular/forms"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/http","rxjs/Rx","rxjs/Subject","@angular/forms","@angular/platform-browser"],t):"object"==typeof exports?exports["ng2-auto-complete"]=t(require("@angular/core"),require("@angular/http"),require("rxjs/Rx"),require("rxjs/Subject"),require("@angular/forms"),require("@angular/platform-browser")):e["ng2-auto-complete"]=t(e["@angular/core"],e["@angular/http"],e["rxjs/Rx"],e["rxjs/Subject"],e["@angular/forms"],e["@angular/platform-browser"])}(this,function(e,t,o,n,i,r){return function(e){function __webpack_require__(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,o){"use strict";var n=o(1);t.AutoComplete=n.AutoComplete;var i=o(5);t.AutoCompleteComponent=i.AutoCompleteComponent;var r=o(7);t.AutoCompleteDirective=r.AutoCompleteDirective;var p=o(8);t.Ng2AutoCompleteModule=p.Ng2AutoCompleteModule},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(p=(r<3?i(p):r>3?i(t,o,p):i(t,o))||p);return r>3&&p&&Object.defineProperty(t,o,p),p},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=o(2),p=o(3);o(4);var l=function(){function AutoComplete(e){this.http=e}return AutoComplete.prototype.filter=function(e,t){return e.filter(function(e){return!!JSON.stringify(e).match(new RegExp(t,"i"))})},AutoComplete.prototype.getRemoteData=function(e){var t=this,o=[],n="";for(var i in e){var r=new RegExp(":"+i,"g");n=this.source,n.match(r)?n=n.replace(r,e[i]):o.push(i+"="+e[i])}if(o.length){var p=o.join("&");n+=n.match(/\?[a-z]/i)?p:"?"+p}return this.http.get(n).map(function(e){return e.json()}).map(function(e){var o=e.data||e;if(t.pathToData){var n=t.pathToData.split(".");n.forEach(function(e){o=o[e]})}return o})},AutoComplete=n([r.Injectable(),i("design:paramtypes",[p.Http])],AutoComplete)}();t.AutoComplete=l},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t){e.exports=o},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(p=(r<3?i(p):r>3?i(t,o,p):i(t,o))||p);return r>3&&p&&Object.defineProperty(t,o,p),p},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=o(2),p=o(6),l=o(1),a=function(){function AutoCompleteComponent(e,t){this.autoComplete=t,this.minChars=0,this.valuePropertyName="id",this.displayPropertyName="value",this.dropdownVisible=!1,this.isLoading=!1,this.filteredList=[],this.itemIndex=0,this.valueSelected=new p.Subject,this.delay=function(){var e=0;return function(t,o){clearTimeout(e),e=setTimeout(t,o)}}(),this.el=e.nativeElement}return AutoCompleteComponent.prototype.ngOnInit=function(){this.inputEl=this.el.querySelector("input"),this.autoComplete.source=this.source,this.autoComplete.pathToData=this.pathToData},AutoCompleteComponent.prototype.reloadListInDelay=function(){var e=this,t="Array"==this.source.constructor.name?10:500;this.delay(function(){return e.reloadList()},t)},AutoCompleteComponent.prototype.showDropdownList=function(){this.keyword="",this.inputEl.focus(),this.reloadList()},AutoCompleteComponent.prototype.hideDropdownList=function(){this.dropdownVisible=!1},AutoCompleteComponent.prototype.reloadList=function(){var e=this,t=this.inputEl.value;if(this.hideDropdownList(),"Array"==this.source.constructor.name)this.filteredList=this.autoComplete.filter(this.source,this.keyword),this.dropdownVisible=!0;else if(t.length>=this.minChars){this.dropdownVisible=!0,this.isLoading=!0;var o={keyword:t};this.autoComplete.getRemoteData(o).subscribe(function(t){e.filteredList=t},function(e){return null},function(){return e.isLoading=!1})}},AutoCompleteComponent.prototype.selectOne=function(e){this.hideDropdownList(),this.valueSelected.next(e)},AutoCompleteComponent.prototype.inputElKeyHandler=function(e){var t=this.filteredList.length;switch(e.keyCode){case 27:this.hideDropdownList();break;case 38:this.itemIndex=(t+this.itemIndex-1)%t;break;case 40:this.dropdownVisible=!0,this.itemIndex=(t+this.itemIndex+1)%t;break;case 13:this.filteredList.length>0&&this.selectOne(this.filteredList[this.itemIndex]),e.preventDefault()}},AutoCompleteComponent.prototype.getFormattedList=function(e){var t=this.listFormatter||this.defaultListFormatter;return t.apply(this,[e])},AutoCompleteComponent.prototype.defaultListFormatter=function(e){var t="";return t+=e[this.valuePropertyName]?"<b>("+e[this.valuePropertyName]+")</b>":"",t+=e[this.displayPropertyName]?"<span>"+e[this.displayPropertyName]+"</span>":e},n([r.Input("list-formatter"),i("design:type",Function)],AutoCompleteComponent.prototype,"listFormatter",void 0),n([r.Input("source"),i("design:type",Object)],AutoCompleteComponent.prototype,"source",void 0),n([r.Input("path-to-data"),i("design:type",String)],AutoCompleteComponent.prototype,"pathToData",void 0),n([r.Input("min-chars"),i("design:type",Number)],AutoCompleteComponent.prototype,"minChars",void 0),n([r.Input("value-property-name"),i("design:type",String)],AutoCompleteComponent.prototype,"valuePropertyName",void 0),n([r.Input("display-property-name"),i("design:type",String)],AutoCompleteComponent.prototype,"displayPropertyName",void 0),n([r.Input("placeholder"),i("design:type",String)],AutoCompleteComponent.prototype,"placeholder",void 0),AutoCompleteComponent=n([r.Component({selector:"auto-complete",template:'\n  <div class="auto-complete">\n\n    <!-- keyword input -->\n    <input class="keyword"\n           placeholder="{{placeholder}}"\n           (focus)="showDropdownList()"\n           (blur)="dropdownVisible=false"\n           (keydown)="inputElKeyHandler($event)"\n           (input)="reloadListInDelay()"\n           [(ngModel)]="keyword" />\n\n    <!-- dropdown that user can select -->\n    <ul *ngIf="dropdownVisible">\n      <li *ngIf="isLoading" class="loading">Loading</li>\n      <li class="item"\n          *ngFor="let item of filteredList; let i=index"\n          (mousedown)="selectOne(item)"\n          [ngClass]="{selected: i === itemIndex}"\n          [innerHTML]="getFormattedList(item)"\n          ></li>\n    </ul>\n\n  </div>',providers:[l.AutoComplete],styles:["\n  @keyframes slideDown {\n    0% {\n      transform:  translateY(-10px);\n    }\n    100% {\n      transform: translateY(0px);\n    }\n  }\n  .auto-complete input {\n    outline: none;\n    border: 2px solid transparent;\n    border-width: 3px 2px;\n    margin: 0;\n    box-sizing: border-box;\n    background-clip: content-box;\n  }\n\n  .auto-complete ul {\n    background-color: #fff;\n    margin: 0;\n    width : 100%;\n    overflow-y: auto;\n    list-style-type: none;\n    padding: 0;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    animation: slideDown 0.1s;\n  }\n\n  .auto-complete ul li {\n    padding: 2px 5px;\n    border-bottom: 1px solid #eee;\n  }\n\n  .auto-complete ul li.selected {\n    background-color: #ccc;\n  }\n\n  .auto-complete ul li:last-child {\n    border-bottom: none;\n  }\n\n  .auto-complete ul li:hover {\n    background-color: #ccc;\n  }\n\n"],encapsulation:r.ViewEncapsulation.None}),i("design:paramtypes",[r.ElementRef,l.AutoComplete])],AutoCompleteComponent)}();t.AutoCompleteComponent=a},function(e,t){e.exports=n},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(p=(r<3?i(p):r>3?i(t,o,p):i(t,o))||p);return r>3&&p&&Object.defineProperty(t,o,p),p},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=o(2),p=o(5);o(4);var l=function(){function AutoCompleteDirective(e,t){var o=this;this.resolver=e,this.viewContainerRef=t,this.ngModelChange=new r.EventEmitter,this.hideAutoCompleteDropdown=function(e){o.componentRef&&(e&&"click"===e.type&&e.target!==o.el&&e.target!==o.acEl?(o.componentRef.destroy(),o.componentRef=void 0):e||(o.componentRef.destroy(),o.componentRef=void 0))},this.styleAutoCompleteDropdown=function(){var e=o.componentRef.instance,t=o.el.getBoundingClientRect();o.acEl.style.width=t.width+"px",o.acEl.style.position="absolute",o.acEl.style.zIndex="1",o.acEl.style.top="0",o.acEl.style.left="0",o.acEl.style.display="inline-block",e.inputEl.style.width=t.width-30+"px",e.inputEl.style.height=t.height+"px",e.inputEl.focus()},this.selectNewValue=function(e){if(e&&"string"!=typeof e){var t=e[o.displayPropertyName||"value"];e.toString=function(){return t}}o.ngModelChange.emit(e),o.valueChanged&&o.valueChanged(e),o.hideAutoCompleteDropdown()},this.el=this.viewContainerRef.element.nativeElement}return AutoCompleteDirective.prototype.ngOnInit=function(){var e=document.createElement("div");e.className="ng2-auto-complete",e.style.display="inline-block",e.style.position="relative",this.el.parentElement.insertBefore(e,this.el.nextSibling),e.appendChild(this.el),this.selectNewValue(this.ngModel)},AutoCompleteDirective.prototype.ngOnDestroy=function(){this.componentRef&&this.componentRef.instance.valueSelected.unsubscribe(),document.removeEventListener("click",this.hideAutoCompleteDropdown)},AutoCompleteDirective.prototype.showAutoCompleteDropdown=function(){document.addEventListener("click",this.hideAutoCompleteDropdown),this.hideAutoCompleteDropdown();var e=this.resolver.resolveComponentFactory(p.AutoCompleteComponent);this.componentRef=this.viewContainerRef.createComponent(e),this.acEl=this.componentRef.location.nativeElement;var t=this.componentRef.instance;t.listFormatter=this.listFormatter,t.pathToData=this.pathToData,t.minChars=this.minChars,t.valuePropertyName=this.valuePropertyName||"id",t.displayPropertyName=this.displayPropertyName||"value",t.source=this.source,t.placeholder=this.placeholder,t.valueSelected.subscribe(this.selectNewValue),this.acEl.style.display="none",setTimeout(this.styleAutoCompleteDropdown)},n([r.Input(),i("design:type",String)],AutoCompleteDirective.prototype,"placeholder",void 0),n([r.Input("list-formatter"),i("design:type",Function)],AutoCompleteDirective.prototype,"listFormatter",void 0),n([r.Input("value-changed"),i("design:type",Function)],AutoCompleteDirective.prototype,"valueChanged",void 0),n([r.Input("source"),i("design:type",Object)],AutoCompleteDirective.prototype,"source",void 0),n([r.Input("path-to-data"),i("design:type",String)],AutoCompleteDirective.prototype,"pathToData",void 0),n([r.Input("min-chars"),i("design:type",Number)],AutoCompleteDirective.prototype,"minChars",void 0),n([r.Input("value-property-name"),i("design:type",String)],AutoCompleteDirective.prototype,"valuePropertyName",void 0),n([r.Input("display-property-name"),i("design:type",String)],AutoCompleteDirective.prototype,"displayPropertyName",void 0),n([r.Input(),i("design:type",String)],AutoCompleteDirective.prototype,"ngModel",void 0),n([r.Output(),i("design:type",Object)],AutoCompleteDirective.prototype,"ngModelChange",void 0),AutoCompleteDirective=n([r.Directive({selector:"[auto-complete], [ng2-auto-complete]",host:{"(click)":"showAutoCompleteDropdown()"}}),i("design:paramtypes",[r.ComponentFactoryResolver,r.ViewContainerRef])],AutoCompleteDirective)}();t.AutoCompleteDirective=l},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(p=(r<3?i(p):r>3?i(t,o,p):i(t,o))||p);return r>3&&p&&Object.defineProperty(t,o,p),p},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=o(2),p=o(9),l=o(10),a=o(1),s=o(5),u=o(7),c=function(){function Ng2AutoCompleteModule(){}return Ng2AutoCompleteModule=n([r.NgModule({imports:[l.BrowserModule,p.FormsModule],declarations:[s.AutoCompleteComponent,u.AutoCompleteDirective],exports:[s.AutoCompleteComponent,u.AutoCompleteDirective],entryComponents:[s.AutoCompleteComponent],providers:[a.AutoComplete]}),i("design:paramtypes",[])],Ng2AutoCompleteModule)}();t.Ng2AutoCompleteModule=c},function(e,t){e.exports=i},function(e,t){e.exports=r}])});
//# sourceMappingURL=ng2-auto-complete.umd.js.map